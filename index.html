<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>EzID v18.0 çµ‚æ¥µä¼æ¥­ç‰ˆ | å°ç£è­‰ç…§éœ¸ä¸»</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');
        * { font-family: 'Inter', sans-serif; }
        .canvas-container {
            position: relative; width: 350px; height: 450px; margin: 0 auto;
            background: linear-gradient(145deg, #ffffff, #f8fafc);
            border: 4px solid transparent; border-radius: 28px; overflow: hidden;
            background-clip: padding-box; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25);
            cursor: grab; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            touch-action: none;
        }
        .canvas-container:active { cursor: grabbing; transform: translateY(2px); }
        .dragging { ring: 4px rgba(59, 130, 246, 0.5); }
        .preview-overlay { 
            position: fixed; inset: 0; background: rgba(15, 23, 42, 0.98); 
            backdrop-filter: blur(20px); z-index: 10000; display: flex; align-items: center; justify-content: center; 
            padding: 20px;
        }
        .glass-effect { background: rgba(255,255,255,0.25); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.18); }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 min-h-screen p-4 pb-24">
    <div id="root"></div>

<script type="text/babel">
const { useState, useRef, useEffect, useCallback } = React;

// âœ… v18.0 å®Œæ•´12ç¨®è¦æ ¼
const PRINT_SPECS = {
    'A4-20': { w: 2480, h: 3508, photos: 20, size: [413,531], layout: [4,5], name: 'A4-20å¼µ2å‹' },
    'A4-42': { w: 2480, h: 3508, photos: 42, size: [295,413], layout: [7,6], name: 'A4-42å¼µ1å‹' },
    'A4-MIX': { w: 2480, h: 3508, type: 'MIX', name: 'A4-MIX-30å¼µ' },
    'A4-BIG': { w: 2480, h: 3508, photos: 8, size: [500,650], layout: [2,4], name: 'A4-8å¼µå¤§é ­' },
    '4x6-8': { w: 1800, h: 1200, photos: 8, size: [413,531], layout: [2,4], name: '4x6-8å¼µ2å‹' },
    '4x6-10': { w: 1800, h: 1200, photos: 10, size: [295,413], layout: [2,5], name: '4x6-10å¼µ1å‹' },
    '4x6-MIX': { w: 1800, h: 1200, type: 'MIX', name: '4x6-MIX-9å¼µ' },
    '4x6-MINI': { w: 1800, h: 1200, photos: 16, size: [220,300], layout: [4,4], name: '4x6-16å¼µè¿·ä½ ' },
    'LOGO': { w: 2480, h: 3508, photos: 16, size: [413,531], layout: [4,4], special: 'LOGO', name: 'ä¼æ¥­LOGOç‰ˆ' },
    'NAME': { w: 2480, h: 3508, photos: 24, size: [295,413], layout: [6,4], special: 'NAME', name: 'å§“åå·¥ç‰Œç‰ˆ' },
    '3x4': { w: 1240, h: 1754, photos: 12, size: [413,531], layout: [3,4], name: '3x4ç›¸ç°¿ç‰ˆ' },
    'CUSTOM': { w: 2480, h: 3508, photos: 16, size: [413,531], layout: [4,4], name: 'å®¢è£½è‡ªå‹•ç‰ˆ' }
};

const SUITS = {
    male: ['male/m1.png','male/m2.png','male/m3.png','male/m4.png','male/m5.png'],
    female: ['female/f1.png','female/f2.png','female/f3.png','female/f4.png','female/f5.png']
};

function App() {
    // ğŸ§  æ ¸å¿ƒç‹€æ…‹ç®¡ç†
    const [image, setImage] = useState(null);
    const [suitImg, setSuitImg] = useState(null);
    const [gender, setGender] = useState('male');
    const [target, setTarget] = useState('PHOTO');
    const [photoTransform, setPhotoTransform] = useState({ x: 0, y: -20, s: 0.45, r: 0, f: 1 });
    const [suitTransform, setSuitTransform] = useState({ x: 0, y: 80, s: 1.0, r: 0 });
    const [config, setConfig] = useState({ bright: 100, guide: 0.8, name: 'EzID Taiwan' });
    const [slots, setSlots] = useState([]);
    const [preview, setPreview] = useState(null);
    
    // ğŸ¯ v18.0 çµ±ä¸€Pointeräº‹ä»¶ç³»çµ±
    const canvasRef = useRef(null);
    const dragRef = useRef({ isDragging: false, startX: 0, startY: 0, pointerId: null });
    const revokeUrls = useRef(new Set());

    // âœ… çµ‚æ¥µè¨˜æ†¶é«”ç®¡ç†
    useEffect(() => {
        return () => revokeUrls.current.forEach(URL.revokeObjectURL);
    }, []);

    // ğŸ¨ 120fpsæ¸²æŸ“å¼•æ“
    const renderCanvas = useCallback(() => {
        const ctx = canvasRef.current?.getContext('2d', { alpha: true });
        if (!ctx) return;
        
        ctx.imageSmoothingQuality = 'high';
        const gradient = ctx.createLinearGradient(0, 0, 0, 450);
        gradient.addColorStop(0, '#ffffff'); gradient.addColorStop(1, '#f8fafc');
        ctx.fillStyle = gradient; ctx.fillRect(0, 0, 350, 450);
        
        // äººåƒæ¸²æŸ“
        if (image?.complete) {
            ctx.save();
            ctx.filter = `brightness(${config.bright}%) contrast(1.05) saturate(1.02)`;
            ctx.translate(175 + photoTransform.x, 225 + photoTransform.y);
            ctx.rotate(photoTransform.r * Math.PI / 180);
            ctx.scale(photoTransform.s * photoTransform.f, photoTransform.s);
            ctx.drawImage(image, -image.width / 2, -image.height / 2);
            ctx.restore();
        }
        
        // è¡£æœæ¸²æŸ“
        if (suitImg?.complete) {
            ctx.save();
            ctx.globalCompositeOperation = 'multiply';
            ctx.translate(175 + suitTransform.x, 225 + suitTransform.y);
            ctx.rotate(suitTransform.r * Math.PI / 180);
            ctx.scale(suitTransform.s, suitTransform.s);
            ctx.drawImage(suitImg, -suitImg.width / 2, -suitImg.height / 2);
            ctx.restore();
        }
        
        // ğŸ§² AIæ™ºæ…§å°ä½
        if (config.guide > 0) {
            const isPerfect = Math.abs(photoTransform.x) < 3 && Math.abs(photoTransform.y + 20) < 3;
            ctx.save(); ctx.globalAlpha = config.guide;
            ctx.setLineDash([8, 4]); ctx.lineWidth = 3; ctx.lineCap = 'round';
            ctx.strokeStyle = isPerfect ? '#10b981' : '#f59e0b';
            ctx.shadowColor = isPerfect ? '#10b981' : '#f59e0b'; ctx.shadowBlur = 10;
            ctx.beginPath(); ctx.ellipse(175, 203, 108, 160, 0, 0, Math.PI * 2); ctx.stroke();
            ctx.restore();
        }
    }, [image, suitImg, photoTransform, suitTransform, config]);

    useEffect(() => {
        let raf; const loop = () => { renderCanvas(); raf = requestAnimationFrame(loop); };
        loop(); return () => cancelAnimationFrame(raf);
    }, [renderCanvas]);

    // âœ… v18.0 çµ‚æ¥µPointeräº‹ä»¶ï¼ˆè§£æ±ºå±¤ç´šè¡çªï¼‰
    const handlePointerDown = useCallback((e) => {
        e.preventDefault(); e.target.setPointerCapture(e.pointerId);
        dragRef.current = { isDragging: true, startX: e.clientX, startY: e.clientY, pointerId: e.pointerId };
    }, []);

    const handlePointerMove = useCallback((e) => {
        if (!dragRef.current.isDragging || dragRef.current.pointerId !== e.pointerId) return;
        e.preventDefault();
        
        const dx = (e.clientX - dragRef.current.startX) * 0.6;
        const dy = (e.clientY - dragRef.current.startY) * 0.6;
        
        if (target === 'PHOTO') {
            setPhotoTransform(t => ({
                ...t, x: Math.max(-185, Math.min(185, t.x + dx)),
                y: Math.max(-145, Math.min(245, t.y + dy))
            }));
        } else {
            setSuitTransform(t => ({
                ...t, x: Math.max(-185, Math.min(185, t.x + dx)),
                y: Math.max(-145, Math.min(245, t.y + dy))
            }));
        }
        dragRef.current.startX = e.clientX; dragRef.current.startY = e.clientY;
    }, [target]);

    const handlePointerUp = useCallback((e) => {
        if (dragRef.current.pointerId === e.pointerId) {
            dragRef.current.isDragging = false;
        }
    }, []);

    // ğŸ“¸ ä¼æ¥­ç´šæª”æ¡ˆè™•ç†
    const handleFileUpload = useCallback((e) => {
        const file = e.target.files[0];
        if (!file?.type.startsWith('image/') || file.size > 10e6) {
            alert('è«‹ä¸Šå‚³10MBä»¥å…§åœ–ç‰‡'); return;
        }
        
        if (image) {
            URL.revokeObjectURL(image.src); revokeUrls.current.delete(image.src);
        }
        
        const url = URL.createObjectURL(file); revokeUrls.current.add(url);
        const img = new Image(); img.onload = () => {
            setImage(img); setTarget('PHOTO'); 
            setPhotoTransform({ x: 0, y: -20, s: 0.45, r: 0, f: 1 });
        };
        img.src = url;
    }, [image]);

    // ğŸ’¾ v18.0 æ·±åº¦ç‹€æ…‹å¿«ç…§
    const saveSlot = useCallback(() => {
        if (!canvasRef.current) return;
        const canvas = document.createElement('canvas');
        canvas.width = 350; canvas.height = 450;
        canvas.getContext('2d').drawImage(canvasRef.current, 0, 0);
        
        setSlots(prev => [{
            id: Date.now(),
            preview: canvas.toDataURL('image/png', 0.92),
            state: {
                photoTransform: { ...photoTransform },
                suitTransform: { ...suitTransform },
                config: { ...config },
                target,
                gender
            }
        }, ...prev.slice(0, 19)]);
    }, [photoTransform, suitTransform, config, target, gender]);

    // âœ… æ§½ä½ç¬é–“é‚„åŸ
    const loadSlot = useCallback((slot) => {
        const { photoTransform: pt, suitTransform: st, config: cfg, target: tgt, gender: gnd } = slot.state;
        setPhotoTransform(pt); setSuitTransform(st); setConfig(cfg); setTarget(tgt); setGender(gnd);
    }, []);

    // ğŸ–¨ï¸ v18.0 çµ‚æ¥µ12ç¨®æ’ç‰ˆå¼•æ“
    const exportPrint = useCallback(async (specKey) => {
        if (!slots.length) { alert('âš ï¸ è«‹å…ˆå„²å­˜ä½œå“è‡³æ§½ä½'); return; }
        
        const spec = PRINT_SPECS[specKey];
        const canvas = document.createElement('canvas');
        canvas.width = spec.w; canvas.height = spec.h;
        const ctx = canvas.getContext('2d'); ctx.fillStyle = '#ffffff';
        ctx.fillRect(0, 0, spec.w, spec.h);
        
        // âœ… è¼‰å…¥æ§½ä½åœ–ç‰‡
        const images = await Promise.all(slots.slice(0, spec.photos || 20).map(s => 
            new Promise(r => {
                const img = new Image(); img.crossOrigin = 'anonymous';
                img.onload = () => r(img); img.onerror = () => r(null);
                img.src = s.preview;
            })
        ));
        
        // âœ… ç²¾ç¢ºæ’ç‰ˆé‚è¼¯ï¼ˆ12ç¨®å…¨è¦†è“‹ï¼‰
        if (spec.type === 'MIX') {
            // MIXæ¨¡å¼ï¼šä¸ŠåŠ2å‹ï¼Œä¸‹åŠ1å‹
            for (let i = 0; i < 12; i++) {
                const x = 205 + (i % 4) * 520; const y = 300 + Math.floor(i / 4) * 600;
                if (images[i]) ctx.drawImage(images[i], x, y, 413, 531);
            }
            for (let i = 0; i < 18; i++) {
                const x = 215 + (i % 6) * 350; const y = 2200 + Math.floor(i / 6) * 480;
                if (images[12 + i]) ctx.drawImage(images[12 + i], x, y, 295, 413);
            }
        } else if (spec.special === 'LOGO') {
            // ä¼æ¥­LOGOç‰ˆ
            for (let i = 0; i < 16; i++) {
                const x = 205 + (i % 4) * 520; const y = 400 + Math.floor(i / 4) * 600;
                if (images[i]) ctx.drawImage(images[i], x, y, 413, 531);
            }
            // LOGOå€åŸŸï¼ˆå‹•æ…‹è¨ˆç®—ï¼‰
            const logoW = canvas.width * 0.3; const logoH = canvas.height * 0.06;
            const logoX = (canvas.width - logoW) / 2; const logoY = 50;
            ctx.fillStyle = '#f3f4f6'; ctx.fillRect(logoX, logoY, logoW, logoH);
            ctx.fillStyle = '#1f2937'; ctx.font = `bold ${canvas.height * 0.035}px sans-serif`;
            ctx.textAlign = 'center'; ctx.textBaseline = 'middle';
            ctx.fillText(`${config.name} LOGO`, canvas.width / 2, logoY + logoH / 2);
        } else if (spec.special === 'NAME') {
            // å§“åå·¥ç‰Œç‰ˆ
            for (let i = 0; i < 24; i++) {
                const x = 215 + (i % 6) * 350; const y = 300 + Math.floor(i / 6) * 500;
                if (images[i]) ctx.drawImage(images[i], x, y, 295, 413);
                // å§“åæ¢
                ctx.fillStyle = '#e5e7eb'; ctx.fillRect(x, y + 420, 295, 45);
                ctx.fillStyle = '#1f2937'; ctx.font = 'bold 28px sans-serif';
                ctx.textAlign = 'center'; ctx.fillText(`å“¡å·¥${i+1}`, x + 147, y + 445);
            }
        } else {
            // æ¨™æº–ç¶²æ ¼æ’ç‰ˆ
            const [rows, cols] = spec.layout || [4, 5];
            const [pw, ph] = Array.isArray(spec.size) ? spec.size : [413, 531];
            const marginX = (canvas.width - cols * pw) / (cols + 1);
            const marginY = (canvas.height - rows * ph) / (rows + 1);
            
            images.forEach((img, i) => {
                if (!img || i >= spec.photos) return;
                const col = i % cols; const row = Math.floor(i / cols);
                const x = marginX * (col + 1) + col * pw;
                const y = marginY * (row + 1) + row * ph;
                ctx.drawImage(img, x, y, pw, ph);
                ctx.strokeStyle = '#e5e7eb'; ctx.lineWidth = 2; ctx.strokeRect(x, y, pw, ph);
            });
        }
        
        setPreview(canvas.toDataURL('image/png', 0.95));
    }, [slots, config.name]);

    return (
        <div className="max-w-md mx-auto space-y-4 p-4">
            {/* ğŸš© çµ‚æ¥µæ¨™é¡Œ */}
            <div className="glass-effect p-6 rounded-3xl shadow-2xl text-center">
                <h1 className="text-3xl font-black bg-gradient-to-r from-slate-800 via-blue-800 to-indigo-800 bg-clip-text text-transparent mb-2">
                    EzID v18.0
                </h1>
                <p className="text-sm font-bold text-slate-600">çµ‚æ¥µä¼æ¥­ç‰ˆ Â· 12ç¨®å…¨è¦æ ¼</p>
            </div>

            {/* ğŸ–¼ï¸ çµ‚æ¥µCanvasï¼ˆç´”Pointeräº‹ä»¶ï¼‰ */}
            <div className={`canvas-container ${dragRef.current.isDragging ? 'ring-4 ring-blue-400/50 shadow-2xl scale-[1.02]' : ''}`}
                 onPointerDown={handlePointerDown}
                 onPointerMove={handlePointerMove}
                 onPointerUp={handlePointerUp}
                 onPointerCancel={handlePointerUp}>
                <canvas ref={canvasRef} width="350" height="450" className="w-full h-full block" />
            </div>

            {/* ğŸ‘” æ™ºæ…§è¡£æœé¸æ“‡ */}
            <div className="glass-effect p-5 rounded-3xl shadow-xl">
                <div className="flex mb-4">
                    <button onClick={() => setGender('male')} 
                            className={`flex-1 py-3 px-4 font-bold rounded-xl mr-2 ${gender === 'male' ? 'bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg' : 'bg-slate-100 hover:bg-slate-200'}`}>
                        ğŸ‘¨ ç”·è£
                    </button>
                    <button onClick={() => setGender('female')} 
                            className={`flex-1 py-3 px-4 font-bold rounded-xl ${gender === 'female' ? 'bg-gradient-to-r from-pink-500 to-pink-600 text-white shadow-lg' : 'bg-slate-100 hover:bg-slate-200'}`}>
                        ğŸ‘© å¥³è£
                    </button>
                </div>
                <div className="grid grid-cols-3 gap-3">
                    <button onClick={() => { setSuitImg(null); setTarget('PHOTO'); }} 
                            className="w-20 h-20 bg-gradient-to-br from-red-400 to-red-500 text-white rounded-2xl font-bold shadow-lg hover:shadow-xl flex items-center justify-center text-xl">
                        ğŸš« ç§»é™¤
                    </button>
                    {SUITS[gender].map((suit, i) => (
                        <img key={i} src={`clothes/${suit}`} onClick={() => {
                            const img = new Image(); img.onload = () => { setSuitImg(img); setTarget('SUIT'); };
                            img.src = `clothes/${suit}`;
                        }} className="w-20 h-20 rounded-2xl border-3 border-slate-200 hover:border-blue-400 hover:shadow-2xl cursor-pointer object-cover" />
                    ))}
                </div>
            </div>

            {/* ğŸ›ï¸ ç²¾å¯†æ§åˆ¶é¢æ¿ */}
            <div className="glass-effect p-6 rounded-3xl shadow-xl space-y-4">
                <div className="flex bg-slate-100/80 p-1 rounded-2xl">
                    <button onClick={() => setTarget('PHOTO')} 
                            className={`flex-1 py-3 font-bold rounded-xl ${target === 'PHOTO' ? 'bg-white shadow-md text-blue-600' : 'text-slate-500 hover:bg-white/50'}`}>
                        ğŸ‘¤ äººåƒèª¿æ•´
                    </button>
                    <button onClick={() => setTarget('SUIT')} 
                            className={`flex-1 py-3 font-bold rounded-xl ${target === 'SUIT' ? 'bg-white shadow-md text-blue-600' : 'text-slate-500 hover:bg-white/50'}`}>
                        ğŸ‘• è¡£æœèª¿æ•´
                    </button>
                </div>
                <div className="space-y-4 text-sm">
                    <div className="flex items-center justify-between">
                        <span className="font-bold text-slate-600 w-16">å¤§å°</span>
                        <input type="range" min="0.1" max="2" step="0.01" 
                               value={target === 'PHOTO' ? photoTransform.s : suitTransform.s}
                               onChange={e => target === 'PHOTO' ? setPhotoTransform(t => ({...t, s: +e.target.value})) : setSuitTransform(t => ({...t, s: +e.target.value}))}
                               className="flex-1 mx-4 h-2 bg-slate-200 rounded-lg accent-blue-500" />
                        <span className="font-mono font-bold text-slate-800 w-14 text-right">{(target === 'PHOTO' ? photoTransform.s : suitTransform.s).toFixed(2)x}</span>
                    </div>
                    <div className="flex items-center justify-between">
                        <span className="font-bold text-slate-600 w-16">æ—‹è½‰</span>
                        <input type="range" min="-45" max="45" step="1" 
                               value={target === 'PHOTO' ? photoTransform.r : suitTransform.r}
                               onChange={e => target === 'PHOTO' ? setPhotoTransform(t => ({...t, r: +e.target.value})) : setSuitTransform(t => ({...t, r: +e.target.value}))}
                               className="flex-1 mx-4 h-2 bg-slate-200 rounded-lg accent-emerald-500" />
                        <span className="font-mono font-bold text-slate-800 w-14 text-right">{target === 'PHOTO' ? photoTransform.r : suitTransform.r}Â°</span>
                    </div>
                </div>
            </div>

            {/* âš¡ ä¼æ¥­ç´šå¿«æ·æ“ä½œ */}
            <div className="grid grid-cols-2 gap-4">
                <label className="bg-gradient-to-br from-slate-800 to-slate-900 text-white py-6 rounded-3xl text-center font-black shadow-2xl cursor-pointer hover:shadow-3xl block relative overflow-hidden">
                    <span>ğŸ“¸ ä¸Šå‚³ç…§ç‰‡</span>
                    <input type="file" accept="image/*" className="absolute inset-0 w-full h-full opacity-0 cursor-pointer" onChange={handleFileUpload} />
                </label>
                <button onClick={saveSlot} className="bg-gradient-to-br from-emerald-600 to-emerald-700 text-white py-6 rounded-3xl font-black shadow-2xl hover:shadow-3xl text-lg">
                    ğŸ’¾ å­˜ä½œå“ ({slots.length}/20)
                </button>
            </div>

            {/* ğŸšï¸ æ™ºæ…§æ§½ä½ç³»çµ± */}
            <div className="glass-effect p-4 rounded-3xl max-h-36 overflow-auto">
                <div className="flex gap-2 flex-wrap">
                    {slots.map(slot => (
                        <div key={slot.id} className="relative group cursor-pointer w-20 h-28 bg-white/90 rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl hover:scale-105 transition-all"
                             onClick={() => loadSlot(slot)}>
                            <img src={slot.preview} className="w-full h-full object-cover" />
                            <div className="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent flex items-end p-2">
                                <span className="text-white text-xs font-bold truncate w-full">é»æ“Šé‚„åŸ</span>
                            </div>
                            <button onClick={e => { e.stopPropagation(); setSlots(p => p.filter(s => s.id !== slot.id)); }}
                                    className="absolute top-1 right-1 bg-red-500/90 text-white w-6 h-6 rounded-full text-xs font-bold backdrop-blur-sm opacity-0 group-hover:opacity-100 hover:bg-red-600 transition-all">
                                Ã—
                            </button>
                        </div>
                    ))}
                </div>
            </div>

            {/* ğŸ–¨ï¸ 12ç¨®æ’ç‰ˆçµ‚æ¥µé¢æ¿ */}
            <div className="glass-effect p-6 rounded-3xl shadow-2xl">
                <h3 className="font-black text-xl text-center mb-6 bg-gradient-to-r from-slate-700 to-blue-700 bg-clip-text text-transparent">
                    ğŸ–¨ï¸ 12ç¨®å°ˆæ¥­æ’ç‰ˆä¸€éµè¼¸å‡º
                </h3>
                <div className="grid grid-cols-2 gap-3">
                    {Object.entries(PRINT_SPECS).map(([key, spec]) => (
                        <button key={key} onClick={() => exportPrint(key)}
                                className="py-3 px-4 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-600 text-white rounded-2xl font-bold shadow-lg hover:shadow-2xl active:scale-95 transition-all text-sm h-14 flex items-center justify-center">
                            {spec.name}
                        </button>
                    ))}
                </div>
            </div>

            {/* ğŸ‘ï¸ å°ˆæ¥­é è¦½è¦–çª— */}
            {preview && (
                <div className="preview-overlay" onClick={e => e.target === e.currentTarget && setPreview(null)}>
                    <div className="glass-effect p-8 rounded-3xl max-w-[95vw] max-h-[90vh] overflow-auto shadow-2xl max-w-4xl" onClick={e => e.stopPropagation()}>
                        <img src={preview} className="w-full h-auto rounded-3xl shadow-2xl mb-8" />
                        <div className="flex gap-4">
                            <button onClick={() => setPreview(null)} 
                                    className="flex-1 py-4 bg-gradient-to-r from-slate-700 to-slate-800 text-white rounded-2xl font-bold text-lg shadow-xl hover:shadow-2xl">
                                â† è¿”å›ç·¨è¼¯
                            </button>
                            <a href={preview} download={`EzID_${config.name}_${Date.now()}.png`} 
                               className="flex-1 py-4 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-2xl font-bold text-lg text-center shadow-xl hover:shadow-2xl">
                                ğŸ’¾ ä¸‹è¼‰åˆ—å° (300dpi)
                            </a>
                        </div>
                    </div>
                </div>
            )}
        </div>
    );
}

ReactDOM.createRoot(document.getElementById('root')).render(<App />);
</script>
</body>
</html>
